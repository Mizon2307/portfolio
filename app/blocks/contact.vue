<template>
	<section id="contact">
		<container>
			<h4 class="hidden font-italic text-2xl uppercase md:block md:my-24 lg:text-[34px] xl:my-32">
				<div class="flex justify-center">
					Start
					<svg class="w-11 mx-5" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 46 31">
						<path d="m11.395 29.02.876-10.932-9.892 6.184L0 19.9l10.831-4.873L0 10.217l2.38-4.372 9.891 6.184-.876-10.931h5.322l-.814 10.931 9.892-6.184 2.317 4.373L17.28 15.09l10.832 4.81-2.38 4.372-9.83-6.184.815 10.932h-5.322Z" fill="#16074C" />
						<path d="m29.283 29.02.877-10.932-9.893 6.184-2.379-4.372 10.832-4.873-10.832-4.81 2.38-4.372 9.892 6.184-.877-10.931h5.322l-.814 10.931 9.893-6.184L46 10.218 35.169 15.09 46 19.9l-2.38 4.372-9.829-6.184.814 10.932h-5.322Z" fill="#16074C" />
						<path d="M2.442 0h30.41v30.34H2.442V0Z" fill="#E5D5EB" />
						<path d="M13.175 0h30.41v30.34h-30.41V0Z" fill="#E5D5EB" />
						<path d="m14.973 29.02.876-10.932-9.892 6.184-2.38-4.372 10.832-4.873-10.831-4.81 2.379-4.372 9.892 6.184-.876-10.931h5.321l-.814 10.931 9.893-6.184 2.316 4.373-10.831 4.872 10.831 4.81-2.379 4.372-9.83-6.184.814 10.932h-5.321Z" fill="#16074C" />
						<path d="m25.706 29.02.876-10.932-9.892 6.184-2.38-4.372 10.832-4.873-10.831-4.81 2.379-4.372 9.892 6.184-.876-10.931h5.321l-.814 10.931 9.893-6.184 2.316 4.373-10.831 4.872 10.831 4.81-2.379 4.372-9.83-6.184.814 10.932h-5.321Z" fill="#16074C" />
						<path d="M7.808 0h30.41v30.34H7.808V0Z" fill="#E5D5EB" />
						<path d="m20.34 29.02.876-10.932-9.893 6.184L8.944 19.9l10.832-4.873-10.832-4.81 2.38-4.372 9.892 6.184-.877-10.931h5.322l-.814 10.931 9.892-6.184 2.317 4.373-10.832 4.872 10.832 4.81-2.38 4.372-9.829-6.184.814 10.932h-5.322Z" fill="#16074C" />
					</svg>
					Your
					<svg class="w-11 mx-5" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 46 31">
						<path d="m11.395 29.02.876-10.932-9.892 6.184L0 19.9l10.831-4.873L0 10.217l2.38-4.372 9.891 6.184-.876-10.931h5.322l-.814 10.931 9.892-6.184 2.317 4.373L17.28 15.09l10.832 4.81-2.38 4.372-9.83-6.184.815 10.932h-5.322Z" fill="#16074C" />
						<path d="m29.283 29.02.877-10.932-9.893 6.184-2.379-4.372 10.832-4.873-10.832-4.81 2.38-4.372 9.892 6.184-.877-10.931h5.322l-.814 10.931 9.893-6.184L46 10.218 35.169 15.09 46 19.9l-2.38 4.372-9.829-6.184.814 10.932h-5.322Z" fill="#16074C" />
						<path d="M2.442 0h30.41v30.34H2.442V0Z" fill="#E5D5EB" />
						<path d="M13.175 0h30.41v30.34h-30.41V0Z" fill="#E5D5EB" />
						<path d="m14.973 29.02.876-10.932-9.892 6.184-2.38-4.372 10.832-4.873-10.831-4.81 2.379-4.372 9.892 6.184-.876-10.931h5.321l-.814 10.931 9.893-6.184 2.316 4.373-10.831 4.872 10.831 4.81-2.379 4.372-9.83-6.184.814 10.932h-5.321Z" fill="#16074C" />
						<path d="m25.706 29.02.876-10.932-9.892 6.184-2.38-4.372 10.832-4.873-10.831-4.81 2.379-4.372 9.892 6.184-.876-10.931h5.321l-.814 10.931 9.893-6.184 2.316 4.373-10.831 4.872 10.831 4.81-2.379 4.372-9.83-6.184.814 10.932h-5.321Z" fill="#16074C" />
						<path d="M7.808 0h30.41v30.34H7.808V0Z" fill="#E5D5EB" />
						<path d="m20.34 29.02.876-10.932-9.893 6.184L8.944 19.9l10.832-4.873-10.832-4.81 2.38-4.372 9.892 6.184-.877-10.931h5.322l-.814 10.931 9.892-6.184 2.317 4.373-10.832 4.872 10.832 4.81-2.38 4.372-9.829-6.184.814 10.932h-5.322Z" fill="#16074C" />
					</svg>
					Project
				</div>
			</h4>
			<h4 class="font-italic text-xl uppercase my-20 sm:text-2xl md:hidden">
				<div class="flex justify-center">
					<svg class="w-9 sm:w-11" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 46 31">
						<path d="m11.395 29.02.876-10.932-9.892 6.184L0 19.9l10.831-4.873L0 10.217l2.38-4.372 9.891 6.184-.876-10.931h5.322l-.814 10.931 9.892-6.184 2.317 4.373L17.28 15.09l10.832 4.81-2.38 4.372-9.83-6.184.815 10.932h-5.322Z" fill="#16074C" />
						<path d="m29.283 29.02.877-10.932-9.893 6.184-2.379-4.372 10.832-4.873-10.832-4.81 2.38-4.372 9.892 6.184-.877-10.931h5.322l-.814 10.931 9.893-6.184L46 10.218 35.169 15.09 46 19.9l-2.38 4.372-9.829-6.184.814 10.932h-5.322Z" fill="#16074C" />
						<path d="M2.442 0h30.41v30.34H2.442V0Z" fill="#E5D5EB" />
						<path d="M13.175 0h30.41v30.34h-30.41V0Z" fill="#E5D5EB" />
						<path d="m14.973 29.02.876-10.932-9.892 6.184-2.38-4.372 10.832-4.873-10.831-4.81 2.379-4.372 9.892 6.184-.876-10.931h5.321l-.814 10.931 9.893-6.184 2.316 4.373-10.831 4.872 10.831 4.81-2.379 4.372-9.83-6.184.814 10.932h-5.321Z" fill="#16074C" />
						<path d="m25.706 29.02.876-10.932-9.892 6.184-2.38-4.372 10.832-4.873-10.831-4.81 2.379-4.372 9.892 6.184-.876-10.931h5.321l-.814 10.931 9.893-6.184 2.316 4.373-10.831 4.872 10.831 4.81-2.379 4.372-9.83-6.184.814 10.932h-5.321Z" fill="#16074C" />
						<path d="M7.808 0h30.41v30.34H7.808V0Z" fill="#E5D5EB" />
						<path d="m20.34 29.02.876-10.932-9.893 6.184L8.944 19.9l10.832-4.873-10.832-4.81 2.38-4.372 9.892 6.184-.877-10.931h5.322l-.814 10.931 9.892-6.184 2.317 4.373-10.832 4.872 10.832 4.81-2.38 4.372-9.829-6.184.814 10.932h-5.322Z" fill="#16074C" />
					</svg>
					<span class="mx-5">Contact us</span>
					<svg class="w-9 sm:w-11" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 46 31">
						<path d="m11.395 29.02.876-10.932-9.892 6.184L0 19.9l10.831-4.873L0 10.217l2.38-4.372 9.891 6.184-.876-10.931h5.322l-.814 10.931 9.892-6.184 2.317 4.373L17.28 15.09l10.832 4.81-2.38 4.372-9.83-6.184.815 10.932h-5.322Z" fill="#16074C" />
						<path d="m29.283 29.02.877-10.932-9.893 6.184-2.379-4.372 10.832-4.873-10.832-4.81 2.38-4.372 9.892 6.184-.877-10.931h5.322l-.814 10.931 9.893-6.184L46 10.218 35.169 15.09 46 19.9l-2.38 4.372-9.829-6.184.814 10.932h-5.322Z" fill="#16074C" />
						<path d="M2.442 0h30.41v30.34H2.442V0Z" fill="#E5D5EB" />
						<path d="M13.175 0h30.41v30.34h-30.41V0Z" fill="#E5D5EB" />
						<path d="m14.973 29.02.876-10.932-9.892 6.184-2.38-4.372 10.832-4.873-10.831-4.81 2.379-4.372 9.892 6.184-.876-10.931h5.321l-.814 10.931 9.893-6.184 2.316 4.373-10.831 4.872 10.831 4.81-2.379 4.372-9.83-6.184.814 10.932h-5.321Z" fill="#16074C" />
						<path d="m25.706 29.02.876-10.932-9.892 6.184-2.38-4.372 10.832-4.873-10.831-4.81 2.379-4.372 9.892 6.184-.876-10.931h5.321l-.814 10.931 9.893-6.184 2.316 4.373-10.831 4.872 10.831 4.81-2.379 4.372-9.83-6.184.814 10.932h-5.321Z" fill="#16074C" />
						<path d="M7.808 0h30.41v30.34H7.808V0Z" fill="#E5D5EB" />
						<path d="m20.34 29.02.876-10.932-9.893 6.184L8.944 19.9l10.832-4.873-10.832-4.81 2.38-4.372 9.892 6.184-.877-10.931h5.322l-.814 10.931 9.892-6.184 2.317 4.373-10.832 4.872 10.832 4.81-2.38 4.372-9.829-6.184.814 10.932h-5.322Z" fill="#16074C" />
					</svg>
				</div>
			</h4>

			<div class="w-full my-20 border-[1.5px] border-purple py-8 px-6 md:my-24 md:py-10 md:px-8 lg:my-32 lg:py-12 lg:px-8">
				<form name="contact" netlify netlify-honeypot="bot-field" @submit.prevent="handleSubmit">
					<!-- Honeypot field (hidden) -->
					<input type="text" name="bot-field" class="hidden" v-model="form.botField" />

					<div class="grid gap-16 sm:grid-cols-2">
						<!-- First Name -->
						<div class="space-y-3 sm:space-y-4">
							<label for="first-name" class="inline-block font-headline uppercase text-sm">First name</label>
							<input type="text" id="first-name" name="first-name" placeholder="Your first name" class="block w-full text-lg pt-2 pb-4 border-b-[1.5px] border-purple outline-none" v-model="form.firstName" />
							<span v-if="v$.firstName.$error" class="text-red-500 text-sm">First name is required</span>
						</div>

						<!-- Last Name -->
						<div class="space-y-3 sm:space-y-4">
							<label for="last-name" class="inline-block font-headline uppercase text-sm">Last name</label>
							<input type="text" id="last-name" name="last-name" placeholder="Your last name" class="block w-full text-lg pt-2 pb-4 border-b-[1.5px] border-purple outline-none" v-model="form.lastName" />
							<span v-if="v$.lastName.$error" class="text-red-500 text-sm">Last name is required</span>
						</div>

						<!-- Email -->
						<div class="space-y-3 sm:space-y-4">
							<label for="email" class="inline-block font-headline uppercase text-sm">Email</label>
							<input type="email" id="email" name="email" placeholder="Email address" class="block w-full text-lg pt-2 pb-4 border-b-[1.5px] border-purple outline-none" v-model="form.email" />
							<span v-if="v$.email.$error" class="text-red-500 text-sm">Email is required</span>
						</div>

						<!-- Company -->
						<div class="space-y-3 sm:space-y-4">
							<label for="company" class="inline-block font-headline uppercase text-sm">Company</label>
							<input type="text" id="company" name="company" placeholder="Company name" class="block w-full text-lg pt-2 pb-4 border-b-[1.5px] border-purple outline-none" v-model="form.company" />
						</div>

						<!-- Message -->
						<div class="space-y-3 sm:col-span-2 sm:space-y-4">
							<label for="message" class="inline-block font-headline uppercase text-sm">Message</label>
							<textarea id="message" name="message" rows="8" placeholder="Start typing here" class="block w-full text-lg pt-2 pb-4 border-b-[1.5px] border-purple outline-none" v-model="form.message"></textarea>
							<span v-if="v$.message.$error" class="text-red-500 text-sm">Message is required</span>
						</div>

						<!-- Submit Button -->
						<div>
							<button type="submit" class="text-xl cursor-pointer inline-flex border-b-[1.5px] border-violet hover:border-purple transition-all duration-300 ease-in-out">Send message</button>
						</div>
					</div>
				</form>
			</div>
		</container>
	</section>
</template>

<script setup>
import { ref } from 'vue'
import useVuelidate from '@vuelidate/core'
import { required, email, minLength } from '@vuelidate/validators'

// Form data
const form = ref({
	firstName: '',
	lastName: '',
	email: '',
	company: '',
	message: '',
	botField: '', // Honeypot field (should be empty)
})

// Validation rules
const rules = {
	firstName: { required },
	lastName: { required },
	email: { required, email },
	company: {},
	message: { required, minLength: minLength(10) },
	botField: {}, // No validation needed
}

const v$ = useVuelidate(rules, form)

const handleSubmit = async () => {
	const isFormValid = await v$.value.$validate()
	if (!isFormValid) return
	if (form.value.botField) return // Stop spam bots

	console.log('Form submitted:', form.value)
}
</script>
